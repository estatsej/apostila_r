## Estruturas Básicas

### Vetor

Um vetor é um conjunto de valores atribuidos à uma variável. Para criar um vetor, utiliza-se o comando `c()`.

Exemplos de vetores:
```{r}
vetor1 <- c(1, 1, 2, 3, 5, 8)
idades <- c(17, 20, 22, 18, 30)
alunos <- c("Ricardo", "Samuel", "Vitor", "Ellen", "Mariana")
vetor2 <- c(0, vetor1, 0)

```

Existem funções que permitem criar e manipular vetores com características com maior facilidade, a seguir, estão algumas delas:


**Sequências**

Para criar um vetor baseado em uma sequência, pode-se usar a função `seq()`, que cria um vetor do valor A até o valor Z.

Exemplos:

```{r }
# Criar um vetor de 1 a 10
vetor1 <- seq(from = 1, to = 10)
vetor1

#outra forma de criar o vetor de 1 a 10
vetor1.1 <- 1:10
```

Perceba que, por padrão, o intervalo entre os números gerados é 1. Porém, também pode-se alterar a distância entre os elementos ( ou a "distância de passos"), com o argumento `by = N`, e a quantidade de elementos criados, com o argumento `length.out = N`.

Exemplos:

```{r} 
# Criar vetor de 1 a 10, com tamanho do passo = 2
vetor2 <- seq(from = 1, to = 10, by = 2)
vetor2

# Criar vetor de 1 a 10, com 4 elementos
vetor3 <- seq(from = 1, to = 10, length.out = 4)
vetor3

```

**Operações em vetores**

É possível aplicar uma série de operações em vetores, a seguir, algumas das operações mais utilizadas:

- `length(x)`: número de elementos do vetor x
- `sum(x)`: soma dos elementos do vetor x
- `prod(x)`: produto dos elementos do vetor x
- `max(x)`: seleciona o maior elemento do vetor x
- `min(x)`: seleciona o menor elemento do vetor x
- `range(x)`: retorna o menor e o maior elemento do vetor x

**Criando vetores com a função `paste`**

É possível também manipular vetores "colando" partes com a função `paste`.

Pode-se usá-lo para adicionar tanto um prefixo quanto um sufixo, usando as seguintes sintaxes:

- Prefixo: `paste("prefixo", vetor, sep = "separador")`
- Sufixo: `paste(vetor, "sufixo", sep = "separador")`

Exemplos:

```{r }
x <- 1:10
# adicionando o prefixo "número", separando com "_"
paste("número", x, sep = "_")


# adicionando sufixo e atribuindo o resultado à variavel "y"
y <- c(paste(11:20, "número", sep = "%"))
y

```

Caso deseja-se adicionar um elemento "grudado" ao valor, pode-se tanto usar o argumento `sep=""` dentro da função `paste`, como a função `paste0`.

Exemplo:

```{r}
# usando sep = ""
z <- c(paste("numero", 21:30, sep = ""))
z

#usando paste0
w <- c(paste0("numero", 21:30))
w
```

**Repetições**

É possível repetir um elemento ou um vetor com a função `rep()`. A seguir, alguns dos argumentos mais utilizados dentro da função:

- `times`: define o número de vezes que o número ou vetor inteiro será repetido
- `each`: define o número de vezes que cada elemento em um vetor será repetido
- `length.out`: define o tamanho do vetor de saída

Exemplos:

```{r}
# repetindo um número 10 vezes
r1 <- rep(5, times = 10) # ou somente rep(5,10)
r1

x <- c("a", "b", "c")

# repetindo o vetor inteiro 5 vezes
rep(x, times = 5)

# repetindo cada elemento do vetor 5 vezes
rep(x, each = 5)

# criando um vetor de tamnaho 7
rep(x, length.out = 7)

```

**Selecionando um elemento no vetor**

Caso deseja-se saber qual o elemento se encontra em uma determinada posição de um vetor, denotada por *i*, pode-se localizá-lo utilizando a sintaxe `vetor[i]`

Vale ressaltar que a contagem é iniciada a partir do valor 1, diferente de certas linguagens de programação em que a contagem começa na posição 0.

Exemplo:

```{r}
# localizando o décimo terceiro número par entre 10 e 50
valores <- seq(10, 50, by = 2)
valores[13]

```

### Matriz

Uma matriz é uma generalização de um vetor, tendo duas dimensões (linhas e colunas). Podemos pensar em um vetor como uma matriz com uma de suas dimensões igual a 1.
A sintaxe é dada abaixo, em que "L"é o número de linhas, "C"é o número de colunas e se "Q"= 1
ativa disposição por linhas, se "Q"= 0 mantém disposição por colunas (ou T ou F).


`x <- matrix(data = dados, nrow = L, ncol = C, byrow = Q) `

Exemplos:

```{r}
# Criando uma matriz de 2 linhas, 5 colunas e disposição por linhas

ml <- matrix(data = c(1:10), nrow = 2, ncol = 5, byrow = 1)
ml

# Criando uma matriz de 2 linhas, 5 colunas e dispoção por colunas:
mc <- matrix(data = c(1:10), nrow = 2, ncol = 5, byrow = 0)
mc
```


**Selecionando elemento da matriz**

Para selecionar um elemento de uma matriz utilizamos a indexação por colchetes na variável que
representa a matriz com os índices separados por vírgula.

 
Exemplos: 
```{r}
# Selecionando a linha 2 e coluna 4 da matriz ml
ml[2,4]

# Selecionando a linha 2 da matriz ml
ml[2,]

# Selecionando as colunas 2,3 e 4 da matriz ml
ml[,2:4]

# Outra forma de ler a matriz ml
ml[,]
```


**Operações de matrizes**

-`A*B`: Produto elemento a elemento de A e B
-`A% * &B`: Produto matricial de A por B
-`apern(A)`: Matriz transposta de A
-`t(A)`: Matriz transposta de A
-`solve(A)`: Matriz inversa de A
-`solve(A,B)`: Resolve o sistema linear Ax = B
-`det(A)`: Retorna o determinante de A
-`diag(v)`: Retorna uma matriz diagonal onde o vetor v é a diagonal
-`diag(A)`: Retorna um vetor que é a diagonal de A
-`diag(n)`: Sendo n um inteiro, retorna uma matriz identidade de ordem n
-`eigen(A)`: Retorna os autovalores e autovetores de A

### Array

Um array é uma generalização de uma matriz, em que os dados podem ser distribuidos em n
dimensões de tamanhos t<sub>i</sub>, i  E {1, 2, ..., n}. A sintaxe utilizada é dada abaixo, em que "dim"é um vetor de dimensão do array.

`x <- array(data = dados,dim = c())`

Exemplos:
```{r}
# Criando um array com dimensão de linhas e 5 colunas
a <- array(data = c(1:10), dim = c(2,5))
a


# Criando um array de 3 dimensões
b <- array(1:18, dim = c(2,3,3))
b
```

*Selecionar um elemento do array*
O acesso dos elementos de um array é análogo ao de matriz e vetor, diferenciando no fato de que
são informados n campos, considerando que são n dimensõos.

Exemplo:
```{r}
# Acessando um elemento do array b do exemplo anterior
b[1,2,3]
```

### Lista

Listas são estruturas genéricas e flexíveis que permitem armazenar diversos formatos em um único
objeto.


`list(elemento1, elemento2, elementon)`

Exemplos: 
```{r}
# Criando vetores *s, **b*, e formando uma lista com esses vetores
s <- c("aa", "bb", "cc", "dd", "ee")
b <- c(TRUE, FALSE, TRUE, FALSE, FALSE)
x <- list(s, b, 3)
x
```

*Operações com membros da lista*

Para operações com membros da lista utiliza-se a sintaxe `lista[]`. A seguir, alguns exemplos utilizando a lista criada no exemplo anterior:

```{r}
# Imprimindo o segundo membro da lista x:
x[2]


# Imprimindo o segundo e o terceiro membro da lista x

x[c(2,3)]
```


*Operações com elementos dos membros da lista*

Também pode-se realizar operações com elementos dentro de um membro da lista. Para isso, utiliza-se a seguinte sintaxe:

`lista[[membro]][elemento]`

Exemplos: 
```{r}
# Imprimindo o terceiro elemento do segundo membro da lista x

x[[2]][3]
```

### Data Frame

## Tabelas

### Tabela Simples

### Contingência

### Proporção

## Funções

É possível escrever funções no R, funções são sequências de código definidas pelo usuário para executar uma sequência específica de comandos. A função é criada utilizando a função do R `function`:

```{r sintaxe_funcoes, eval = FALSE}
funcao <- function(argumento1, argumento2)
{
  sequencia de código utilizando os argumentos
}
```
**Exemplos**
```{r exemplo_funcoes_1}
# Criando uma função para elevar um argumento x ao quadrado
fx <- function(x){x^2}
fx(2)
```

```{r exemplo_funcoes_2}
y <- 1:10 # Criando um vetor com a sequencia de 1 a 10
fx(y)
```

```{r}
x <- matrix(1:15, nrow=5, ncol=3) # Criando uma matriz 3x5
fx(x)
```

## Funções Apply

Funções da família apply são funções feitas para se aplicar outras funções em diferentes tipos de estruturas de dados,
a aplicação das funções nessas estruturas é feita ded forma iterativa sem a necessidade de usar loops (como `while` ou `for`).
Diferentes funções apply são usadas para diferentes estruturas de dados.

### Apply

A função `apply` é utilizada em matrizes, data frames ou arrays. A função retorna um vetor ou array dos valores obtidos aplicando a função argumento nos dados. 
A função é utilizada da seguinte forma:

```{r apply_demonstracao, eval = FALSE}
apply(X, Margem, Funcao)
```

Onde `X` representa os dados (array, matriz ou data.frame), `Margem` representa a margem que será utilizada na iteração, e `Funcao` representa a função a ser aplicada.

**Exemplos**
```{r exemplo_apply_1}
matriz <- matrix(1:16, 4, 4) # Criando uma matriz 4x4
matriz # Visualizando a matriz
```
Abaixo aplicamos a função sum (terceiro argumento) ao objeto matriz (primeiro argumento), na primeira marginal (segundo argumento), desta forma, a função `apply` retorna um vetor com as somas de cada linha da matriz.

```{r}
apply(matriz, 1, sum)
```

Abaixo, usamos o segundo argumento como `2`, assim, a função retorna um vetor com as somas das colunas da matriz.

```{r}
apply(matriz, 2, sum)
```

```{r}
apply(matriz, 1, function(x){x^2+0.5})
```

### Tapply

A função `tapply` funciona da mesma forma que a função `apply`, mas podendo usar uma variável como indice de marginal.
A função é utilizada da seguinte forma:

```{r tapply_demonstracao, eval = FALSE}
tapply(X, Indice, Funcao)
```

**Exemplos**

```{r exemplo_tapply}
dados <- data.frame(sexo = rep(c("M", "F"),
                               c(9, 11)),
                    idade = c(79, 2, 95, 22, 25, 73, 82, 23, 6, 19,
                              43, 39, 9, 88, 89, 41, 4, 13, 92, 33))
tapply(dados$idade, dados$sexo, mean)
```

### Sapply

A função `sapply` é utilizada para aplicar funções em cada elemento de um objeto de tipo lista. A função é utilizada da seguinte forma:

```{r sapply_demonstracao, eval = FALSE}
sapply(X, Funcao)
```

Onde `X` representa os dados (de tipo lista) e `Funcao` representa a função a ser aplicada em cada elemento dessa lista.

**Exemplos**

Abaixo a função sapply retorna um vetor de comprimento `3`, onde cada elemento representa o resultado da função `mean` de cada elemento da lista.

```{r exemplo_sapply}
x <- 1:10 # Criado um vetor de sequencia de 1 a 10
y <- 2:14 # Criado um vetor de sequencia de 2 a 14
z <- 60:90 # Criado um vetor de sequencia de 60 a 90

lista <- list(x,y,z) # Criando uma lista com os objetos anteriores

sapply(lista, mean) 
```

### Lapply

A função `lapply` funciona da mesma forma que `sapply`, com as diferença que é retornado uma lista ao invés de um vetor dos resultados. A função é utilizada da seguinte forma:

```{r lapply_demonstracao, eval = FALSE}
lapply(X, Funcao)
```

Onde `X` representa os dados (de tipo lista) e `Funcao` representa a função a ser aplicada em cada elemento dessa lista.

**Exemplos**

Abaixo a função lapply retorna uma lista de comprimento `3`, onde cada elemento representa o resultado da função `mean` de cada elemento da lista.

```{r exemplo_lapply}
x <- 1:10 # Criado um vetor de sequencia de 1 a 10
y <- 2:14 # Criado um vetor de sequencia de 2 a 14
z <- 60:90 # Criado um vetor de sequencia de 60 a 90

lista <- list(x,y,z) # Criando uma lista com os objetos anteriores

lapply(lista, mean) 
```